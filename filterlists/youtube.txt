! Title: Youtube Annoyances
! Description: Block Youtube annoyances. Meant to be compatible with Adguard.
! Homepage: https://github.com/evenost-helx/public/tree/master/filterlists
! Version: 2025.01.31-00

!-------------------------------------------------------------------------------!

! Youtube Sidebar

! Hide Youtube Shorts navbar item
www.youtube.com##ytd-guide-entry-renderer:has(> a[title=Shorts])
m.youtube.com##ytm-pivot-bar-item-renderer:has(> div[role=tab].pivot-shorts)

! Hide Explore section from sidebar
www.youtube.com##ytd-guide-renderer > #sections > ytd-guide-section-renderer:has(h3:contains(Explore))

! Hide More from Youtube in the sidebar
www.youtube.com##ytd-guide-renderer > #sections > ytd-guide-section-renderer:has(h3:contains(More from YouTube))

!-------------------------------------------------------------------------------!

! Youtube browse pages (Home, Subscription, Shorts)

! Hide ALL results on the Home page
www.youtube.com##ytd-browse[page-subtype="home"]
m.youtube.com##ytm-browse div[tab-identifier="FEwhat_to_watch"]

! Disable all sections not containing videos on the Home page
www.youtube.com##ytd-browse[page-subtype="home"] ytd-rich-section-renderer
m.youtube.com##ytm-browse div[tab-title="Home"] ytm-rich-section-renderer

! Disable Youtube Shorts on the Subscriptions page
www.youtube.com##ytd-browse[page-subtype="subscriptions"] ytd-rich-section-renderer:has(ytd-rich-shelf-renderer[is-shorts])
! Youtube mobile uses `ytm-reel-shelf-renderer` which is blocked further down

!-------------------------------------------------------------------------------!

! Youtube Search

! Hide related searches and related results from the YouTube search results, only leaving organic matches for your search
www.youtube.com##ytd-search ytd-item-section-renderer ytd-shelf-renderer
m.youtube.com##ytm-search ytm-video-with-context-renderer:has(ytm-badge:contains(Related))

# Hide single shorts shown as a separate item (instead of a reel) in search results
! TODO Does desktop also have such results?
m.youtube.com##ytm-search ytm-media-item.big-shorts-singleton

!-------------------------------------------------------------------------------!

! Youtube playback

! Disable youtube miniplayer
||youtube.com/s/player/*/miniplayer.js

! Disable youtube live chat
www.youtube.com##ytd-watch-flexy #chat-container:remove() 

! Hide the info box that allows enabling the live chat if hidden via UI
www.youtube.com##ytd-watch-flexy ytd-watch-metadata #teaser-carousel

! Related videos sidebar when watching a video
www.youtube.com##ytd-watch-flexy #related
m.youtube.com##ytm-watch ytm-item-section-renderer[section-identifier=related-items]

! Hide "smartimation" animations
! Hide the rainbow-colored border animation around the subscribe button
www.youtube.com##ytd-watch-flexy yt-smartimation div.smartimation__border
m.youtube.com##ytm-watch yt-smartimation div.smartimation__border

! Hide the like count under a video
www.youtube.com##ytd-watch-flexy like-button-view-model div.yt-spec-button-shape-next__button-text-content
m.youtube.com##ytm-watch like-button-view-model div.yt-spec-button-shape-next__button-text-content

! Center the like icon after removing the like count
! It is slightly wider than the dislike button though
! Using the exact selector used by Youtube instead something custom
www.youtube.com#$#.yt-spec-button-shape-next--size-m.yt-spec-button-shape-next--icon-leading .yt-spec-button-shape-next__icon { margin-left:auto !important; margin-right:auto !important; }
m.youtube.com#$#.yt-spec-button-shape-next--size-m.yt-spec-button-shape-next--icon-leading .yt-spec-button-shape-next__icon { margin-left:auto !important; margin-right:auto !important; }

! Hide the "Download" button
www.youtube.com##ytd-watch-flexy ytd-download-button-renderer

! Hide the "Clip" button
www.youtube.com##ytd-watch-flexy yt-button-view-model:has(button[title=Clip])

! Hide the overlay at the end of the video
www.youtube.com##ytd-watch-flexy div.videowall-endscreen

! Prevent stats from live-updating
! https://github.com/yokoffing/filterlists/pull/113
||youtube.com/youtubei/v1/updated_metadata

! The the extra tiles between the description box and the comments which mentions
! the game name and a Youtube generic channel like "Gaming" to browse
www.youtube.com##ytd-watch-flexy ytd-watch-metadata div#above-the-fold + ytd-metadata-row-container-renderer

!-------------------------------------------------------------------------------!

! Youtube Shorts

! Hide Youtube Shorts reels (affects many pages)
www.youtube.com##ytd-reel-shelf-renderer
m.youtube.com##ytm-reel-shelf-renderer

! Hide Youtube Shorts player
! Need to remove them because they autoplay otherwise
www.youtube.com##ytd-shorts:remove()
m.youtube.com##shorts-player:remove()

!-------------------------------------------------------------------------------!
